<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Goblab UAI" />
  <title>Herramientas de Geoanálisis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="h_geoanalisis_files/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="h_geoanalisis_files/reveal.js-3.3.0.1/css/theme/white.css" id="theme">


  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }


  </style>

    <style type="text/css">code{white-space: pre;}</style>

    <link rel="stylesheet" href="styles/style.css"/>

<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

    <script src="h_geoanalisis_files/header-attrs-2.29/header-attrs.js"></script>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">Herramientas de Geoanálisis</h1>
  <h1 class="subtitle">Aplicaciones para la Gestión Pública</h1>
    <h2 class="author">Goblab UAI</h2>
    <h3 class="date">19 Marzo 2025</h3>
</section>

<section>
<section id="agenda" class="title-slide slide level1 bottom white"
data-background="images/r-studio-tutorial.jpeg">
<h1 class="bottom white"
data-background="images/r-studio-tutorial.jpeg">Agenda</h1>

</section>
<section id="section" class="slide level2">
<h2></h2>
<h4 id="agenda-1">Agenda</h4>
<ul>
<li class="fragment">Introducción</li>
<li class="fragment">Importancia del Análisis Espacial</li>
<li class="fragment">Caso 1: Geocodificación Masiva de Direcciones</li>
<li class="fragment">Caso 2: Análisis de Focos de Delitos y
Prevención</li>
<li class="fragment">Caso 3: Construcción de Indicadores Territoriales
para Políticas Públicas</li>
<li class="fragment">Caso 4: Autocorrelación Espacial y Segregación</li>
</ul>
</section></section>
<section>
<section id="objetivos-de-la-capacitación"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Objetivos de la capacitación</h1>

</section>
<section id="section-1" class="slide level2">
<h2></h2>
<p><strong>Objetivos de la capacitación:</strong></p>
<p>La presente capacitación tiene como objetivo principal dar a conocer
los procedimientos técnicos generales que se realizaron al procesar las
bases, en las etapas de geocodifiacción.</p>
</section></section>
<section>
<section id="consolidación-de-bases"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Consolidación de Bases</h1>

</section>
<section id="section-2" class="slide level2">
<h2></h2>
<p><strong>Objetivos:</strong></p>
<ul>
<li class="fragment">Conocer las bases de datos, en estructura y
contenidos, para analizarlas a fin de estimar niveles de complejidad en
su posterior procesamiento.</li>
<li class="fragment">Consolidar todas las bases de datos en una sola con
solamente la información necesaria para la georeferenciación, donde cada
registro tiene una variable denominada ID que permite identificar su
fuente y correlativo.</li>
</ul>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<center>
<img data-src="images/head_bases.png" class="img_c" />
</center>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<p><strong>Generar ID:</strong></p>
<!-- ##  -->
<!-- **Selección de Variables** -->
<!-- ## -->
</section></section>
<section>
<section id="geocodificación-de-direcciones"
class="title-slide slide level1 bottom white"
data-background="images/fondo_duoc.png">
<h1 class="bottom white"
data-background="images/fondo_duoc.png">Geocodificación de
Direcciones</h1>

</section>
<section id="section-5" class="slide level2">
<h2></h2>
<h6 class="orange" id="geocodificación-de-direcciones-1">Geocodificación
de Direcciones</h6>
<p><strong>Objetivos:</strong></p>
<ul>
<li class="fragment">Procesar y transformar direcciones para que
coincidan con la base de calles nacional del motor de georeferenciación
<a href="https://nominatim.org">Nominatim</a> para obtener un par de
coordenadas por cada una de ellas.</li>
<li class="fragment">Conocer las transformaciones generales de las
direcciones por expresiones regulares (<a
href="https://es.wikipedia.org/wiki/Expresión_regular">regrex</a>).</li>
<li class="fragment">Georeferenciar direcciones transformadas</li>
<li class="fragment"><del>Validar resultados de geocodificación
espacialmente.</del></li>
</ul>
</section>
<section id="section-6" class="slide level2">
<h2></h2>
<p><img data-src="images/etapas.png" /></p>
</section></section>
<section>
<section id="etapa-1-limpieza-inicial"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Etapa 1: Limpieza Inicial</h1>

</section>
<section id="section-7" class="slide level2">
<h2></h2>
<p><strong>Cargar Datos de Prueba (60 Registros)</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>direcciones <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data/test/dirs_60.rds&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(direcciones)</span></code></pre></div>
</section>
<section id="section-8" class="slide level2">
<h2></h2>
<p><strong>Función de Limpieza Inicial</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Función para dejar todo en mayúscula y sin tildes</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>limpieza <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x &lt;- stri_trans_general(x,&quot;latin-ASCII&quot;) # eliminar tildes</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_to_upper</span>(x) <span class="co"># mayúsculas</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">chartr</span>(<span class="st">&quot;ÁÉÍÓÚ&quot;</span>, <span class="st">&quot;AEIOU&quot;</span>, x)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;(?!&#39;)[[:punct:]]&quot;</span>, <span class="st">&quot;&quot;</span>, x, <span class="at">perl=</span><span class="cn">TRUE</span>) <span class="co">#Excepción apostrofe de o&#39;higgins</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&#39;º&#39;</span>, <span class="st">&quot;&quot;</span>, x)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_squish</span>(x) <span class="co"># eliminar espacios al comienzo y espacios repetidos</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="section-9" class="slide level2">
<h2></h2>
<p><strong>Aplicación de la función de limpieza</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>direcciones <span class="ot">&lt;-</span> direcciones <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">CALLE =</span> <span class="fu">limpieza</span>(CALLE))</span></code></pre></div>
</section>
<section id="section-10" class="slide level2">
<h2></h2>
<p><strong>Generar columna de Consulta</strong>:</p>
<!-- ## -->
</section>
<section id="section-11" class="slide level2">
<h2></h2>
<p><strong>Geocodificación</strong></p>
<p>Se utilizará una librería llamada <a
href="https://jessecambon.github.io/tidygeocoder/">tidygeocoder</a> que
da acceso a los servicios de geocodificación en este caso Nominatim
online. El procedimiento que se realizó en el proyecto difiere ya que se
utilizó el motor de geocodificación local que ofrece mayor
performance.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># geocode the addresses</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>geocoding <span class="ot">&lt;-</span> direcciones <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geocode</span>(CONSULTA, <span class="at">method =</span> <span class="st">&#39;osm&#39;</span>, <span class="at">lat =</span> latitude , <span class="at">long =</span> longitude)</span></code></pre></div>
</section>
<section id="section-12" class="slide level2">
<h2></h2>
</section>
<section id="section-13" class="slide level2">
<h2></h2>
<p>Resultados de Geocodificación en cantidades:</p>
</section>
<section id="section-14" class="slide level2">
<h2></h2>
<p><img data-src="images/etapa_1.png" /></p>
</section></section>
<section>
<section id="etapa-2-limpieza-específica"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Etapa 2: Limpieza Específica</h1>

</section>
<section id="section-15" class="slide level2">
<h2></h2>
<p>Lectura de no geocodificados</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>geocoding2 <span class="ot">&lt;-</span>  geocoding <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(latitude))  <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>latitude, <span class="sc">-</span>longitude)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(geocoding2)</span></code></pre></div>
</section>
<section id="section-16" class="slide level2">
<h2></h2>
</section>
<section id="section-17" class="slide level2">
<h2></h2>
<p><strong>Limpieza por expresiones regulares</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Encuentra y reemplaza</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>find_replace <span class="ot">&lt;-</span>  <span class="cf">function</span>(patron, reemplazo, data_vector){</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  ids <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> patron, data_vector)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  data_vector[ids] <span class="ot">&lt;-</span> reemplazo</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_vector)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>geocoding2 <span class="ot">&lt;-</span> geocoding2 <span class="sc">%&gt;%</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_CALLE =</span> CALLE) <span class="sc">%&gt;%</span> </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_CALLE =</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;AV &quot;</span>,<span class="at">replacement =</span> <span class="st">&quot;AVENIDA &quot;</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">x =</span>  NOM_CALLE)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_CALLE =</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;PSJE &quot;</span>,<span class="at">replacement =</span> <span class="st">&quot;PASAJE &quot;</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                          <span class="at">x =</span>  NOM_CALLE)) <span class="sc">%&gt;%</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_CALLE =</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;PASAJE &quot;</span>,<span class="at">replacement =</span> <span class="st">&quot; &quot;</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                          <span class="at">x =</span>  NOM_CALLE)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_CALLE =</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;S/N &quot;</span>,<span class="at">replacement =</span> <span class="st">&quot; &quot;</span>,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                          <span class="at">x =</span>  NOM_CALLE)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_CALLE =</span> stringr<span class="sc">::</span><span class="fu">str_squish</span>(NOM_CALLE))</span></code></pre></div>
</section>
<section id="section-18" class="slide level2">
<h2></h2>
<p>Limpieza de Nombre de Región</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>geocoding2 <span class="ot">&lt;-</span> geocoding2 <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_REGION =</span> REGION) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_REGION =</span> <span class="fu">find_replace</span>(<span class="at">patron =</span> <span class="st">&quot;ÑUBLE&quot;</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">reemplazo =</span> <span class="st">&quot;Región de Ñuble&quot;</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">data_vector =</span>  NOM_REGION)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_REGION =</span> <span class="fu">find_replace</span>(<span class="at">patron =</span> <span class="st">&quot;METROPOLITANA&quot;</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">reemplazo =</span> <span class="st">&quot;Región Metropolitana de Santiago&quot;</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">data_vector =</span>  NOM_REGION)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_REGION =</span> <span class="fu">find_replace</span>(<span class="at">patron =</span> <span class="st">&quot;BIO&quot;</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">reemplazo =</span> <span class="st">&quot;Región del Biobío&quot;</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">data_vector =</span>  NOM_REGION)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_REGION =</span> <span class="fu">find_replace</span>(<span class="at">patron =</span> <span class="st">&quot;MAULE&quot;</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">reemplazo =</span> <span class="st">&quot;Región del Maule&quot;</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">data_vector =</span>  NOM_REGION)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_REGION =</span> <span class="fu">find_replace</span>(<span class="at">patron =</span> <span class="st">&quot;V - VALPARAISO&quot;</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">reemplazo =</span> <span class="st">&quot;Región de Valparaíso&quot;</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">data_vector =</span>  NOM_REGION))</span></code></pre></div>
</section>
<section id="section-19" class="slide level2">
<h2></h2>
<p>Geocodificación</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>geocoding2 <span class="ot">&lt;-</span> geocoding2 <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NOM_CALLE =</span> <span class="fu">gsub</span>(<span class="st">&quot;PASAJE&quot;</span>, <span class="st">&quot;&quot;</span>, NOM_CALLE))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>geocoding2 <span class="ot">&lt;-</span>  geocoding2  <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CONSULTA =</span> <span class="fu">paste0</span>(NUMERO, <span class="st">&quot; &quot;</span>, NOM_CALLE, <span class="st">&quot;, &quot;</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                           COMUNA, <span class="st">&quot;, &quot;</span>, NOM_REGION)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ETAPA =</span> <span class="dv">2</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># gecodificación</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>res_geocoding2 <span class="ot">&lt;-</span> geocoding2 <span class="sc">%&gt;%</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geocode</span>(CONSULTA,  <span class="at">method =</span> <span class="st">&#39;osm&#39;</span>, </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">lat =</span> latitude , <span class="at">long =</span> longitude)</span></code></pre></div>
</section>
<section id="section-20" class="slide level2">
<h2></h2>
</section>
<section id="section-21" class="slide level2">
<h2></h2>
<p>Resultados</p>
</section>
<section id="section-22" class="slide level2">
<h2></h2>
<p><img data-src="images/etapa_2.png" /></p>
</section></section>
<section>
<section id="etapa-3-distancia-jaro-winkler"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Etapa 3: Distancia Jaro Winkler</h1>

</section>
<section id="section-23" class="slide level2">
<h2></h2>
<p>Formulación Distancia de <a
href="https://en.wikipedia.org/wiki/Jaro–Winkler_distance">Jaro
Winkler</a></p>
<center>
<figure>
<img data-src="images/jarowincler.jpeg"
alt="Fórmula de Distancia Jaro Winkler" />
<figcaption aria-hidden="true">Fórmula de Distancia Jaro
Winkler</figcaption>
</figure>
</center>
</section>
<section id="section-24" class="slide level2">
<h2></h2>
<p>Explicación</p>
<center>
<figure>
<img data-src="images/JW_explain.jpeg"
alt="Explicación de Distancia Jaro Winkler" />
<figcaption aria-hidden="true">Explicación de Distancia Jaro
Winkler</figcaption>
</figure>
</center>
</section>
<section id="section-25" class="slide level2">
<h2></h2>
<p>Ejemplos de aplicación</p>
<center>
<figure>
<img data-src="images/examples_JW.png"
alt="Casos de aplicación Distancia Jaro Winkler" />
<figcaption aria-hidden="true">Casos de aplicación Distancia Jaro
Winkler</figcaption>
</figure>
</center>
</section>
<section id="section-26" class="slide level2">
<h2></h2>
<p><strong>Ejemplo de Cálculo de Distancia de Jaro Winkler</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&#39;stringdist&#39;)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringdist)</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>calle_base <span class="ot">&lt;-</span> <span class="st">&quot;ALEJANDRO FLEMINS&quot;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>calle_maestro_osm <span class="ot">&lt;-</span> <span class="st">&quot;ALEJANDRO FLEMING&quot;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>distance_jw <span class="ot">&lt;-</span> <span class="fu">stringdist</span>(calle_base,calle_maestro_osm, <span class="at">method=</span><span class="st">&#39;jw&#39;</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>distance_jw</span></code></pre></div>
<p>Referencias de algoritmos de distancias de textos (<a
href="https://search.r-project.org/CRAN/refmans/stringdist/html/stringdist-metrics.html">link</a>)</p>
</section>
<section id="section-27" class="slide level2">
<h2></h2>
<center>
<img data-src="images/etapa_3.png" />
</center>
<!-- # Etapa 4: Geocodificación Comunal {.fucsia} -->
<!-- ## -->
<!-- ##### Geocodificación Comunal - Etapa 4 -->
<!-- ```{r eval=FALSE} -->
<!-- # obtener registros de los que no se obtuvieron coords. -->
<!-- geocoding4 <- res_geocoding2 %>% filter(is.na(latitude)) %>%  -->
<!--   select(-longitude, -latitude) -->
<!-- #Generación de variable de consulta y etapa -->
<!-- geocoding4 <- geocoding4 %>%  -->
<!--   mutate(CONSULTA = paste0(COMUNA, ", ", NOM_REGION)) %>%  -->
<!--   mutate(ETAPA = 4)  -->
<!-- #geocodificación -->
<!-- res_geocoding4 <- geocoding4 %>% -->
<!--   geocode(CONSULTA,  method = 'osm',  -->
<!--           lat = latitude , long = longitude) -->
<!-- ``` -->
<!-- ## -->
<!-- ```{r echo=FALSE} -->
<!-- res_geocoding4 <- readRDS("data/resultados/geocoding_e4.rds") -->
<!-- head(res_geocoding4, 10) %>%  -->
<!--   select(-REGION, -CALLE) %>%  -->
<!--   kbl() %>% -->
<!--   kable_styling(bootstrap_options = c("striped", "hover", "condensed"),  -->
<!--                  font_size =12) -->
<!-- ``` -->
<!-- ## -->
<!-- **Resultado General Etapa 4** -->
<!-- ```{r echo=FALSE} -->
<!-- # tabla de resultados -->
<!-- tablas_e4 <- res_geocoding4 %>%  -->
<!--   mutate(res_geocod = ifelse(!is.na(latitude), 1, 0)) %>%  -->
<!--   summarise(  -->
<!--     codificadas = sum(res_geocod), -->
<!--     no_codificadas = n()-sum(res_geocod), -->
<!--     p_codificadas = paste0((sum(res_geocod)/n())*100, "%"), -->
<!--     p_no_codificadas = paste0(((n()-sum(res_geocod))/n())*100, "%")) %>%  -->
<!--   t() %>% as.data.frame()  -->
<!-- names(tablas_e4) <- "resultados" -->
<!-- head(tablas_e4) %>%  -->
<!--   kbl() %>% -->
<!--   kable_styling(bootstrap_options = c("striped", "hover"),  -->
<!--                  font_size =font_size) -->
<!-- ``` -->
<!-- ## -->
<!-- ![](images/etapa_4.png) -->
</section></section>
<section>
<section id="consolidación-de-geocodificación"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Consolidación de Geocodificación</h1>

</section>
<section id="section-28" class="slide level2">
<h2></h2>
<p>Lectura de las etapas con resultados positivos</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>resultados <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">&quot;data/resultados&quot;</span>, </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">pattern =</span> <span class="st">&quot;*ok.rds$&quot;</span>, <span class="at">full.names =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(readRDS) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_df</span>(<span class="sc">~</span><span class="fu">select</span>(., ID, SEDE, ETAPA, CONSULTA, latitude, longitude))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(resultados)</span></span></code></pre></div>
</section>
<section id="section-29" class="slide level2">
<h2></h2>
<p>Todos los registros tienen coordenadas (primeros 20)</p>
<!-- # Cálculo de Distancias {.fucsia} -->
<!-- ##  -->
<!-- **Tipos de Distancia:** -->
<!-- * Distancia Cordal -->
<!-- * ~~Algoritmo de Ruta más Corta~~ -->
<!-- <center> -->
<!--  ![Distancia Cordal](images/great-circle_distance.png){width="300px"}![Algorimo de Ruta más corta](images/rmc.jpeg){width="500px"} -->
<!-- </center> -->
<!-- ##  -->
<!-- **Funciones de Cálculo de Distancia** -->
<!-- ```{r} -->
<!-- geod <- function(P1,P2,radius) { -->
<!--     # entrada en grados decimales -->
<!--     lon1=P1[1]; lat1=P1[2]; lon2=P2[1];lat2=P2[2]; -->
<!--     # expresar en radianes -->
<!--     a1 = (lat1)*pi/180; -->
<!--     b1 = (lon1)*pi/180; -->
<!--     a2 = (lat2)*pi/180; -->
<!--     b2 = (lon2)*pi/180; -->
<!--     # calcula $theta_{ij}$ -->
<!--     val = sin(a1) * sin(a2) + cos(a1) * cos(a2) * cos(b1 - b2); -->
<!--     val2 = acos(val)*radius; -->
<!--     return(as.numeric(val2)) -->
<!-- } -->
<!-- chor <- function(P1,P2,radius=6371.01) { -->
<!--     val=radius*2*sin(geod(P1,P2,1)/2) -->
<!--     return(val); -->
<!-- } -->
<!-- ``` -->
<!-- ## -->
<!-- **Definición de Origen y Destino** -->
<!-- ```{r} -->
<!-- #origen -->
<!-- pts_o_chor <-  readRDS("data/resultados/geocoding_all.rds") %>%  -->
<!--   nest(coord_o = c(longitude, latitude)) %>%  -->
<!--   select(ID, SEDE, coord_o) -->
<!-- #denstino -->
<!-- pts_d_chor <-  readRDS("data/originales/sedes_raw.rds") %>%  -->
<!--   nest(coord_d = c(lon, lat)) %>%  -->
<!--   select(SEDE, coord_d) -->
<!-- ``` -->
<!-- ##  -->
<!-- **Cálculo de Distancias** -->
<!-- ```{r} -->
<!-- # chordal dist of km -->
<!-- radius = 6371.01 * 1000 # llevar los valores a metros -->
<!-- coords_chor <-pts_o_chor %>%  -->
<!--         dplyr::left_join(pts_d_chor, by = "SEDE")  -->
<!-- tbl_dd_chor <- coords_chor %>%  -->
<!--         dplyr::mutate( -->
<!--           dist_chor = purrr::map2_dbl(coord_o, coord_d, chor, radius = radius)) -->
<!-- ``` -->
<!-- ## -->
<!-- # ```{r echo=FALSE} -->
<!-- # head(tbl_dd_chor, 15) %>%  -->
<!-- #   kbl() %>% -->
<!-- #   kable_styling(bootstrap_options = c("striped", "hover"),  -->
<!-- #                  font_size =16) -->
<!-- # ``` -->
</section></section>
<section>
<section id="consolidación-general"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Consolidación General</h1>
<!-- ## -->
<!-- Agregar Distancia a Base `resultados` -->
<!-- ```{r eval=FALSE} -->
<!-- distancias <-  tbl_dd_chor %>% -->
<!--   select(ID,dist_chor ) -->
<!-- resultados <- resultados %>% -->
<!--   left_join(distancias, by ="ID") -->
<!-- ``` -->
<!-- ## -->
<!-- Agregar Nombre de la Base -->
<!-- ```{r eval=FALSE} -->
<!-- resultados <-  resultados %>%  -->
<!--   mutate(BASE = substr(ID,1,2)) %>%  -->
<!--   mutate( BASE = case_when( -->
<!--     BASE == "DS" ~ "DESERTORES", -->
<!--     BASE == "SD" ~ "SEDES", -->
<!--     BASE == "MT" ~ "MATRICULADOS", -->
<!--     BASE == "SP" ~ "SUSPENDIDOS" -->
<!--   )) -->
<!-- ``` -->
<!-- ## -->
<!-- Agregar rangos de distancias -->
<!-- ```{r eval=FALSE} -->
<!-- rango <- c(0, 500, 1000, 10000, 100000, 1000000, Inf) -->
<!-- valores <- c(1:6) -->
<!-- resultados <- resultados %>%  -->
<!--   mutate(RANGO = cut(x = dist_chor, breaks = rango, labels = valores)) -->
<!-- ``` -->
</section>
<section id="section-30" class="slide level2">
<h2></h2>
<p>Transformar a Shapefile</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>resultados_sf <span class="ot">&lt;-</span> resultados <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">crs =</span> <span class="dv">4326</span>, <span class="at">agr =</span> <span class="st">&quot;constant&quot;</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># guardar los resultados en shape file</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">st_write</span>(resultados_sf, <span class="st">&quot;data/resultados/resultados_geocod.shp&quot;</span>)</span></code></pre></div>
</section>
<section id="section-31" class="slide level2">
<h2></h2>
</section></section>
<section>
<section id="visualización-de-resultados"
class="title-slide slide level1 fucsia">
<h1 class="fucsia">Visualización de Resultados</h1>

</section>
<section id="section-32" class="slide level2">
<h2></h2>
<h6 class="orange" id="visualización-de-resultados-1">Visualización de
Resultados</h6>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mapview<span class="sc">::</span><span class="fu">mapview</span>(resultados_sf, <span class="at">zcol=</span> <span class="st">&quot;RANGO&quot;</span>)</span></code></pre></div>
</section>
<section id="section-33" class="slide level2">
<h2></h2>
<!-- [Dashboard argis online](https://cit-uai.maps.arcgis.com/apps/dashboards/1e0ceb3002814953b89d01e20f704968) -->
<p><img data-src="images/dashboard.png" /></p>
</section></section>
<section>
<section id="recomendaciones-gestión-de-base-de-datos"
class="title-slide slide level1">
<h1>Recomendaciones gestión de base de datos</h1>

</section>
<section id="section-34" class="slide level2">
<h2></h2>
<p><strong>Recomendaciones Generales</strong></p>
<ul>
<li class="fragment">Separación en Columnas de elementos que componen
una dirección:</li>
</ul>
<p><img data-src="images/tabla_dirs.png" width="1200" /></p>
</section>
<section id="section-35" class="slide level2">
<h2></h2>
<p><strong>Recomendaciones Generales</strong></p>
<ul>
<li class="fragment">Definición del formato de los datos: número, texto,
fecha o lógico, ejemplo Ejemplo:: “<code>NUMERACIÓN</code>”: solo
permita ingreso de números positivos.</li>
<li class="fragment">Valores restringidos: <code>COMUNA</code>: solo
permita ingresar nombres de comunas existentes en Chile.</li>
<li class="fragment">Restringir valores de columnas que no pueden quedar
vacías: Ejemplo:: “<code>COMUNA</code>”: No puede quedar vacía, ya que
puede existir una calle con el mismo nombre en diferentes comunas.</li>
</ul>
</section>
<section id="section-36" class="slide level2">
<h2></h2>
<p><strong>Documento de Referencia:</strong></p>
<p>De manera más amplía se puede utilizar como consulta “Recomendación
técnica Metadatos” de IDE (Infraestructura de Datos Espaciales) Chile <a
href="http://www.ide.cl/images/Publicaciones/Documentos/METADATOS_IDE_CHILE.pdf">http://www.ide.cl/images/Publicaciones/Documentos/METADATOS_IDE_CHILE.pdf</a>.</p>
<center>
<img data-src="images/IDE_chile.png" width="200" />
</center>
<!-- # {.bottom .white data-background="images/gracias.png"} -->
</section></section>
<section>
<section id="consultas" class="title-slide slide level1">
<h1>Consultas</h1>

</section>
<section id="section-37" class="slide level2">
<h2></h2>
<h4 id="consultas-1">Consultas</h4>
<pre><code>Denis Berroeta G.
Coordinador de Investigación, Centro de Inteligencia Territorial - UAI
denis.berroeta@uai.cl</code></pre>
</section></section>
    </div>
  </div>

  <script src="h_geoanalisis_files/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="h_geoanalisis_files/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,
        // Display a presentation progress bar
        progress: true,
        // Display the page number of the current slide
        slideNumber: false,
        // Push each slide change to the browser history
        history: true,
        // Enable keyboard shortcuts for navigation
        keyboard: true,
        // Enable the slide overview mode
        overview: true,
        // Vertical centering of slides
        center: true,
        // Enables touch navigation on devices with touch input
        touch: true,
        // Turns fragments on and off globally
        fragments: true,
        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,
        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,
        // Stop auto-sliding after user input
        autoSlideStoppable: true,
        // Enable slide navigation via mouse wheel
        mouseWheel: false,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Transition speed
        transitionSpeed: 'default', // default/fast/slow
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom
        // Number of slides away from the current that are visible
        viewDistance: 3,
        // Bounds for smallest/largest possible scale to apply to content
        minScale: 1,
        maxScale: 1,



        // Optional reveal.js plugins
        dependencies: [
          { src: 'h_geoanalisis_files/reveal.js-3.3.0.1/plugin/zoom-js/zoom.js', async: true },
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
